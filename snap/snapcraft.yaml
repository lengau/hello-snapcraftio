name: hello
base: core22
confinement: strict
grade: stable

architectures:
  - build-on: amd64
  - build-on: arm64
  - build-on: armhf
  - build-on: ppc64el
  - build-on: riscv64
  - build-on: s390x

version: "2.12.1"
summary: GNU Hello
description: GNU hello prints a friendly greeting.

apps:
  hello:
    command: bin/hello
  universe:
    # '"' is not allowed for commands.
    command: bin/hello -g $SAY
    environment:
      SAY: "Hello, universe!"

parts:
  gnu-hello:
    source: https://git.savannah.gnu.org/git/$SNAPCRAFT_PROJECT_NAME.git
    source-tag: v$SNAPCRAFT_PROJECT_VERSION
    plugin: autotools
    build-packages:
      - wget
      - gperf
      - texinfo
      - help2man
    autotools-configure-parameters:
      - --prefix=/
    stage:
      - -share/man
      - -share/info
